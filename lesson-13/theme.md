# üéØ –¢–µ–º–∞ 13 ‚Äî UI/UX –ø–∞—Ç—Ç–µ—Ä–Ω: –¥–µ—Ç–∞–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞

> üí° –í —ç—Ç–æ–π —Ç–µ–º–µ —è –Ω–∞–∫–æ–Ω–µ—Ü —Ä–∞–∑–æ–±—Ä–∞–ª –æ–¥–Ω—É –æ—á–µ–Ω—å –≤–∑—Ä–æ—Å–ª—É—é —à—Ç—É–∫—É ‚Äî –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ç—Ä–µ–∫–∞, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–¥—É—Ç –≤ —Ñ–æ–Ω–µ, –∏ –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã UI –Ω–µ –ª–∞–≥–∞–ª, –Ω–µ –º–æ—Ä–≥–∞–ª –∏ –≤–æ–æ–±—â–µ —á—É–≤—Å—Ç–≤–æ–≤–∞–ª —Å–µ–±—è, –∫–∞–∫ –±—É–¥—Ç–æ –µ–º—É 144 FPS.

---

## üîé –ß—Ç–æ —è –ø–æ–Ω—è–ª

- –°–∞–º–∞—è –≤–∞–∂–Ω–∞—è –º—ã—Å–ª—å –æ—Ç –î—ã–º—ã—á–∞: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–±—è–∑–∞–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –µ—â—ë –∏–¥—ë—Ç.

- –ü–æ–∫–∞ —Å–µ—Ä–≤–µ—Ä –¥—É–º–∞–µ—Ç ‚Üí UI –Ω–µ –¥–æ–ª–∂–µ–Ω ‚Äú–∑–∞–≤–∏—Å–∞—Ç—å‚Äù.

–ò –≤–æ—Ç –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –ª–æ–º–∞—é—Ç UX:

- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –ø–æ —Ç—Ä–µ–∫—É ‚Üí –∑–∞–ø—Ä–æ—Å –∏–¥—ë—Ç, –Ω–æ UI –ø–æ–∫–∞ –º–æ–ª—á–∏—Ç

- –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç ‚Äú–æ–ø–æ–∑–¥–∞—Ç—å‚Äù ‚Äî –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã–±—Ä–∞–ª–∏ –¥—Ä—É–≥–æ–π —Ç—Ä–µ–∫

- –∫–∞–∂–¥—ã–π –∫–ª–∏–∫ –¥–µ–ª–∞–µ—Ç –Ω–æ–≤—ã–π fetch ‚Üí –º–∏–ª–ª–∏–æ–Ω –∑–∞–ø—Ä–æ—Å–æ–≤

- –Ω–µ—Ç –∫–µ—à–∞ ‚Üí –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–±–æ—Ä —Ç—Ä–µ–∫–∞ —Å–Ω–æ–≤–∞ –∂–¥—ë—Ç —Å–µ—Ä–≤–µ—Ä

- –Ω–µ—Ç loading-—Å–æ—Å—Ç–æ—è–Ω–∏—è ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥—É–º–∞–µ—Ç, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç

- –Ω–µ—Ç cancel –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí –≥–æ–Ω–∫–∏

---

## üöÄ –ü–æ–¥—Ö–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –∏–∑—É—á–∏–ª–∏ (–∏ –ø–æ—á–µ–º—É —ç—Ç–æ —Ä–µ–∞–ª—å–Ω–æ –≤–∞–∂–Ω–æ)

### 1. –§–µ—Ç—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ –∫–ª–∏–∫—É (—Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π, –Ω–æ —Å–ª–∞–±—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)

–†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ UX —Ç–∞–∫–æ–π —Å–µ–±–µ.
–£—Ö–æ–¥–∏—Ç –∫—É—á–∞ –∑–∞–ø—Ä–æ—Å–æ–≤, –∏ —Å—Ç–∞—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –º–æ–≥—É—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–µ.

### 2. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å loading

–ë–µ–∑ —ç—Ç–æ–≥–æ UX —Ä–∞–∑–≤–∞–ª–∏–≤–∞–µ—Ç—Å—è ‚Äî —á–µ–ª–æ–≤–µ–∫ –¥—É–º–∞–µ—Ç, —á—Ç–æ –≤—Å—ë –∑–∞–≤–∏—Å–ª–æ.

---

## üß† –ú–æ–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —è —Å–æ–±—Ä–∞–ª –ø–æ—Å–ª–µ —Ç–µ–º—ã

```javascript
import { useEffect, useState, useRef, useCallback } from "react";

function App() {
  const apiKey = "aFigTebe";
  const [tracks, setTracks] = useState([]);
  const [selectedTrackId, setSelectedTrackId] = useState(null);

  const [detailsCache, setDetailsCache] = useState({});
  const [selectedTrackDetails, setSelectedTrackDetails] = useState(null);
  const [detailsLoading, setDetailsLoading] = useState(false);
  const [detailsError, setDetailsError] = useState(null);

  const currentControllerRef = useRef(null);

  useEffect(() => {
    const saved = localStorage.getItem("tracks");
    try {
      const parsed = saved ? JSON.parse(saved) : null;
      if (Array.isArray(parsed) && parsed.length > 0) {
        setTracks(parsed);
        return;
      }
    } catch (e) {}

    const fetchTracks = async () => {
      try {
        const res = await fetch(
          "https://musicfun.it-incubator.app/api/1.0/playlists/tracks",
          { method: "GET", headers: { "API-KEY": apiKey } }
        );
        const json = await res.json();
        const fetched = json.data || [];
        localStorage.setItem("tracks", JSON.stringify(fetched));
        setTracks(fetched);
      } catch (err) {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç—Ä–µ–∫–æ–≤:", err);
        setTracks([]);
      }
    };

    fetchTracks();
  }, []);

  const fetchDetails = useCallback(async (trackId, { signal } = {}) => {
    const url = `https://musicfun.it-incubator.app/api/1.0/playlists/tracks/${trackId}`;
    const res = await fetch(url, {
      method: "GET",
      headers: { "API-KEY": apiKey },
      signal,
    });
    const json = await res.json();
    return json.data;
  }, []);

  useEffect(() => {
    if (currentControllerRef.current) {
      currentControllerRef.current.abort();
      currentControllerRef.current = null;
    }

    if (selectedTrackId === null) {
      setSelectedTrackDetails(null);
      setDetailsLoading(false);
      setDetailsError(null);
      return;
    }

    if (detailsCache[selectedTrackId]) {
      setSelectedTrackDetails(detailsCache[selectedTrackId]);
      setDetailsLoading(false);
      setDetailsError(null);
      return;
    }

    const controller = new AbortController();
    currentControllerRef.current = controller;

    setDetailsLoading(true);
    setDetailsError(null);
    setSelectedTrackDetails(null);

    fetchDetails(selectedTrackId, { signal: controller.signal })
      .then((details) => {
        setDetailsCache((prev) => ({ ...prev, [selectedTrackId]: details }));
        setSelectedTrackDetails(details);
        setDetailsLoading(false);
        currentControllerRef.current = null;
      })
      .catch((err) => {
        if (err.name === "AbortError") return;
        console.error("–û—à–∏–±–∫–∞ –¥–µ—Ç–∞–ª–µ–π:", err);
        setDetailsError("–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–µ—Ç–∞–ª–∏.");
        setDetailsLoading(false);
        currentControllerRef.current = null;
      });
  }, [selectedTrackId, detailsCache, fetchDetails]);

  const handlePrefetch = useCallback(
    (trackId) => {
      if (detailsCache[trackId]) return;

      const controller = new AbortController();
      fetchDetails(trackId, { signal: controller.signal })
        .then((details) => {
          setDetailsCache((prev) => ({ ...prev, [trackId]: details }));
        })
        .catch(() => {});
    },
    [detailsCache, fetchDetails]
  );

  return (
    <div
      style={{
        display: "flex",
        justifyContent: "space-between",
        columnGap: 12,
      }}
    >
      <div style={{ width: "60%" }}>
        <h1>Musicfun Player</h1>
        <button onClick={() => setSelectedTrackId(null)}>
          Reset selection
        </button>

        <ul>
          {tracks.map((track) => (
            <li
              key={track.id}
              style={{
                border:
                  track.id === selectedTrackId ? "1px solid orange" : "none",
                padding: 8,
                display: "flex",
                gap: 8,
                alignItems: "center",
              }}
            >
              {track.attributes.images?.main?.[2] && (
                <img
                  width={50}
                  height={50}
                  src={track.attributes.images.main[2].url}
                  alt={track.attributes.title}
                  style={{ objectFit: "cover" }}
                />
              )}
              <div
                onClick={() => setSelectedTrackId(track.id)}
                onMouseEnter={() => handlePrefetch(track.id)}
                style={{ cursor: "pointer", flex: 1 }}
              >
                {track.attributes.title}
              </div>
              <audio src={track.attributes.attachments?.[0]?.url} controls />
            </li>
          ))}
        </ul>
      </div>

      <div style={{ width: "35%", padding: 12, borderLeft: "1px solid #eee" }}>
        <h2>Details</h2>

        {selectedTrackId === null ? (
          <div>Track is not selected</div>
        ) : detailsLoading ? (
          <div>Loading details‚Ä¶</div>
        ) : detailsError ? (
          <div style={{ color: "red" }}>{detailsError}</div>
        ) : selectedTrackDetails ? (
          <div>
            <h3>{selectedTrackDetails.attributes.title}</h3>
            <p>
              <strong>Lyrics</strong>
            </p>
            <div>{selectedTrackDetails.attributes?.lyrics ?? "No lyrics"}</div>
          </div>
        ) : (
          <div>No details available.</div>
        )}
      </div>
    </div>
  );
}

export default App;
```

---

## ‚öôÔ∏è –ú–æ–∏ –≤—ã–≤–æ–¥—ã –ø–æ —Ç–µ–º–µ

- –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ
- –∑–∞–ø—Ä–æ—Å—ã –≤ —Ñ–æ–Ω–µ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –Ω–æ —Å—Ç–∞—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–¥–æ –æ—Ç–º–µ–Ω—è—Ç—å
- –∫–µ—à ‚Äî —ç—Ç–æ –º–æ–π –Ω–æ–≤—ã–π –ª—É—á—à–∏–π –¥—Ä—É–≥
- –ø—Ä–µ—Ñ–µ—Ç—á ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–π —Ö–∞–∫, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç UX ‚Äú–≤–æ–ª—à–µ–±–Ω—ã–º‚Äù
- loading/error —Å–æ—Å—Ç–æ—è–Ω–∏—è ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- –±–µ–∑ —ç—Ç–æ–≥–æ UI –≤—ã–≥–ª—è–¥–∏—Ç ¬´—Å–ª–æ–º–∞–Ω–æ¬ª

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏, –∫–æ—Ç–æ—Ä—ã–µ —è —Ç–µ–ø–µ—Ä—å —Ç–æ—á–Ω–æ –∏–∑–±–µ–≥–∞—é

- ‚ùå –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
- ‚ùå –¥–µ–ª–∞—Ç—å 100500 –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ —Ç—Ä–µ–∫
- ‚ùå –ø–æ–∑–≤–æ–ª—è—Ç—å —Å—Ç–∞—Ä–æ–º—É fetch –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –Ω–æ–≤—ã–π
- ‚ùå –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ onMouseEnter (–ø—Ä–µ—Ñ–µ—Ç—á)
- ‚ùå —Ö—Ä–∞–Ω–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º state, –±–µ–∑ –∫–µ—à–∞

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –î–∏–º—ã—á—É (IT-KAMASUTRA)

> üí° –°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ, –î–∏–º—ã—á, –∑–∞ —Ç—Ä—É–¥, –∑–∞ –∏—Å–∫—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏ –∑–∞ —Ç–æ, —á—Ç–æ —Ç—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ —É—á–∏—à—å React, –∞ –¥–∞—ë—à—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî –∫–∞–∫ –º—ã—Å–ª–∏—Ç—å, –∫–∞–∫ —Ä–∞—Å—Ç–∏ –∏ –Ω–µ –±–æ—è—Ç—å—Å—è –Ω–æ–≤–æ–≥–æ. –≠—Ç–æ—Ç –∫—É—Ä—Å –Ω–µ –ø—Ä–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å, –∞ –ø—Ä–æ –ø—É—Ç—å. –ò –∫–∞–∂–¥—ã–π, –∫—Ç–æ –ø—Ä–æ–π–¥—ë—Ç –µ–≥–æ —Å –æ—Ç–∫—Ä—ã—Ç–æ–π –≥–æ–ª–æ–≤–æ–π, –≤—ã–π–¥–µ—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º, –∞ —Å–∞–º—É—Ä–∞–µ–º, –≥–æ—Ç–æ–≤—ã–º –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –º–∏—Ä—É.
